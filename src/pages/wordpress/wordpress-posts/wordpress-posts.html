<ion-header>
	<ion-navbar  color="primary">
		<button ion-button menuToggle icon-only>
			<img src="assets/icon/menu-icon-dark.png">
			<!--<ion-icon name='menu'></ion-icon>-->
		</button>
		<!--<ion-buttons start>-->
			<!--<button menuToggle>-->
				<!--<ion-icon name="menu"></ion-icon>-->
			<!--</button>-->
		<!--</ion-buttons>-->
		<ion-title *ngIf="!category">{{'POSTS' | translate}}</ion-title>
		<ion-title *ngIf="category">{{category.name}}</ion-title>
		<!--<ion-title *ngIf="category">{{category.name}} <span *ngIf="category.count">({{category.count}})</span></ion-title>-->
		<ion-buttons end>
			<button (tap)="toggleRefresh()" ion-button icon-only>
				<ion-icon name="refresh"></ion-icon>
			</button>
		</ion-buttons>
		<ion-buttons end>
	      <button (tap)="toggleSearchbar()" ion-button icon-only>
	        <ion-icon name="search"></ion-icon>
	      </button>
	    </ion-buttons>
	</ion-navbar>
	<ion-toolbar [hidden]="hideSearchbar">
		<ion-searchbar [(ngModel)]="search" [showCancelButton]="shouldShowCancel" (ionInput)="searchPosts()" (ionCancel)="toggleSearchbar()"> debounce=500></ion-searchbar>
	</ion-toolbar>
</ion-header>

<ion-content  class="card-background-page">
	<div class="container" *ngIf="isBusy">
		<div class="spinner">
			<div class="backdrop"></div>
			<p>&#9733;</p>
		</div>
		<p text-center="true">Loading...</p>
	</div>
	<ion-card *ngFor="let post of posts">
        <!--<ion-item text-wrap (click)="loadPost(post)">-->
            <!--<h1 [innerHTML]="post.title.rendered"></h1>-->
        <!--</ion-item>-->
		<wordpress-feature-media *ngIf="post.featured_media" [id]="post.featured_media" (click)="loadPost(post)"></wordpress-feature-media>
		<img src="assets/img/placeholder.png" *ngIf="!post.featured_media">
		<!--<img src='assets/img/avatar/cosima-avatar.jpg'-->
		<!--/>-->

		<div class="card-subtitle">
			<!--<ion-item text-wrap (click)="loadPost(post)">-->
				<!--<h2 [innerHTML]="post.title.rendered"></h2>-->
			<!--</ion-item>-->
			<h2 (click)="loadPost(post)" [innerHTML]="post.title.rendered">
				<!--{{post.title.rendered}}-->
			</h2>

			<button ion-button icon-left clear (click)="favoritePost(post)" small>
				<ion-icon name='heart'></ion-icon>
				Favorite
			</button>

			<!--<button clear  icon-left ion-button small>-->
          <!--<span class="button-inner">-->
          <!--<ion-icon name="eye" ></ion-icon>-->
          <!--333-->
        <!--</span>-->
			<!--</button>-->

			<button ion-button clear (click)="loadPost(post)" small>
				<ion-icon name='eye' class='ion-icon-eye'></ion-icon>
				Read
			</button>
			<!--<button clear  icon-left ion-button small >-->
          <!--<span class="button-inner">-->
          <!--<ion-icon name="heart" ></ion-icon>-->
          <!--222-->
        <!--</span>-->
			<!--</button>-->
			<span class="datetype">
				{{getDate(post)}}
			  </span>
		</div>

		<!--<ion-card-content *ngIf="!post.featured_media">-->
			<!--&lt;!&ndash;<ion-item text-wrap (click)="loadPost(post)" class="no-image-ion-item">&ndash;&gt;&ndash;&gt;-->
				<!--&lt;!&ndash;&lt;!&ndash;<h2 [innerHTML]="post.title.rendered"></h2>&ndash;&gt;&ndash;&gt;-->
			<!--&lt;!&ndash;</ion-item>&ndash;&gt;-->
			<!--<div class="no-image-card-subtitle">-->

				<!--<h2 (click)="loadPost(post)">-->
					<!--{{post.title.rendered}}-->
				<!--</h2>-->

				<!--<button ion-button icon-left clear (click)="favoritePost(post)" small class="no-image-fav-btn">-->
					<!--<ion-icon name='heart'></ion-icon>-->
					<!--Favorite-->
				<!--</button>-->

				<!--<button ion-button clear (click)="loadPost(post)" small padding  class="no-image-read-btn">-->
					<!--<ion-icon name='eye' class='ion-icon-eye'></ion-icon>-->
					<!--Read-->
				<!--</button>-->
				<!--<span class="no-image-datetype" padding>{{getDate(post)}}-->
			  <!--</span>-->
			<!--</div>-->
		<!--</ion-card-content>-->


		<!--<ion-item *ngIf="post['_embedded'] && post['_embedded'].author && post['_embedded'].author[0] && post['_embedded'].author[0].avatar_urls && !post.featured_media">-->
		<!--</ion-item>-->
		<!--<ion-card-content *ngIf="!post.featured_media">-->
			<!--<ion-item text-wrap (click)="loadPost(post)">-->
			<!--<h2 [innerHTML]="post.title.rendered"></h2>-->
			<!--</ion-item>-->
			<!--<p>{{post.content.rendered | trimHTML | truncate: 100 }}</p>-->
			<!--<p text-right style="color: blue;">{{getDate(post)}}</p>-->
		<!--</ion-card-content>-->

		<!--<ion-row no-padding *ngIf="!post.featured_media">-->
			<!--<ion-col text-left>-->
				<!--<button ion-button  clear (click)="favoritePost(post)" small>-->
					<!--<ion-icon name='heart'></ion-icon>-->
					<!--Favorite-->
				<!--</button>-->
			<!--</ion-col>-->
			<!--<ion-col text-right>-->
				<!--<button ion-button clear (click)="loadPost(post)" small>-->
					<!--Read-->
				<!--</button>-->
			<!--</ion-col>-->
		<!--</ion-row>-->
	</ion-card>
	<div class="container0" *ngIf="isBusyMore">
		<div class="spinner0">
			<div class="backdrop0"></div>
			<p>&#9733;</p>
		</div>
		<p text-center="true" class="loading0">Loading...</p>
	</div>
	<ion-infinite-scroll *ngIf="!isBusyMore" (ionInfinite)="loadMoreScroll($event)">
	   <ion-infinite-scroll-content></ion-infinite-scroll-content>
	 </ion-infinite-scroll>
</ion-content>
