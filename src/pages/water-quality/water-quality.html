<ion-header>
  <ion-navbar color="primary" [hideBackButton]="true">
      <ion-buttons start>
          <button ion-button icon-only (click)="goHome()">
        <ion-icon name="ios-home"></ion-icon>
      </button>
      </ion-buttons>
      <!--<button ion-button menuToggle>-->
      <!--<ion-icon name="menu"></ion-icon>-->
      <!--</button>-->
      <ion-title>
          Water Quality or Environmental Hazards </ion-title>
      <ion-buttons end>
          <button ion-button icon-only (click)="presentPopover($event)">
      <ion-icon name="more"></ion-icon>
    </button>
      </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content>


  <span class="form-title"> Please complete the form below</span>
  <p *ngIf="submitAttempt" style="color: #ea6153;">Please fill out all details accurately.</p>

  <div class="cssload-circle" *ngIf="isBusy">
      <div class="cssload-up">
          <div class="cssload-innera"></div>
      </div>
      <div class="cssload-down">
          <div class="cssload-innerb"></div>
      </div>
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="!isBusy">
      <!--components start-->
      <div class="form-component">
          <reference-number [parent]="form" [referenceNum]="referenceNumber">
          </reference-number>
      </div>


      <div class="form-component">
          <who-are-you [parent]="form"></who-are-you>
      </div>


      <div class="form-component">
          <what-happened-water-quality [parent]="form" [isNotEditable]="isSaveSubmit"></what-happened-water-quality>
      </div>

      <div class="form-component">
          <where-and-when-water-quality [parent]="form" [isNotEditable]="isSaveSubmit">
          </where-and-when-water-quality>
      </div>

      <div class="form-component">
            <standards-water-quality [parent]="form" [isNotEditable]="isSaveSubmit">
            </standards-water-quality>
        </div>

      <div class="form-component">
          <immediate-corrective-actions-water-quality [parent]="form" [isNotEditable]="isSaveSubmit">
          </immediate-corrective-actions-water-quality>
      </div>


        <!--buttons-->
        <div class="incident__buttons">
            <button (click)="saveSubmission($event)" type="button" class="save" ion-button *ngIf="!isSaveSubmit">
                <ion-icon ios="ios-archive" md="md-archive"></ion-icon>
                Save
            </button>

            <button type="submit" [disabled]="form.invalid" class="submit" ion-button (click)="submitFunction($event)" *ngIf="!isSaveSubmit">
                <ion-icon ios="ios-send" md="md-send"></ion-icon>
                Save & SUBMIT
            </button>

            <!-- <button type="button" class="submit" ion-button (click)="submitFunction($event)" *ngIf="!isSaveSubmit">
      <ion-icon ios="ios-send" md="md-send"></ion-icon>
      Save & SUBMIT
    </button> -->
        </div>

        <!--<pre>-->
        <!--{{form.value | json}}-->
        <!--</pre>-->

    </form>

</ion-content>